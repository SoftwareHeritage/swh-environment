#!/usr/bin/env bash

# Usage: bin/install [PIP_INSTALL_OPTION..]

PREREQUISITES="pre-commit flake8 pifpaf tox wheel mypy"
PIP_FLAGS="--disable-pip-version-check"
PIP="python3 -m pip $PIP_FLAGS"

# python3 -m pip install --upgrade pip "$@"

$PIP install $PREREQUISITES "$@"

bin/pip-swh-packages --with-testing | \
    while read pkg_spec ; do
        $PIP install $pkg_spec "$@"
    done
